<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.memberB">	
   <resultMap id="memResultB" type="memberVOB">
   	  <result property="bp_join" column="bp_join" />
      <result property="bp_id" column="bp_id" />
      <result property="bp_pw" column="bp_pw" />
      <result property="name" column="name" />
      <result property="dp_name" column="dp_name" />
      <result property="email" column="email" />
      <result property="addr1" column="addr1" />
      <result property="addr2" column="addr2" />
      <result property="tel1" column="tel1" />
      <result property="tel2" column="tel2" />
      <result property="hp1" column="hp1" />
      <result property="hp2" column="hp2" />
      <result property="bin" column="bin" />
      <result property="photo" column="photo" />
      <result property="type" column="type" />
      <result property="car" column="car" />
      <result property="wallet" column="wallet" />
      <result property="charge" column="charge" />
      <result property="join_date" column="join_date" />
      <result property="last_date" column="last_date" />
      <result property="stop_date" column="stop_date" />
      <result property="status" column="status" />
      <result property="location_x" column="location_x" />
      <result property="location_y" column="location_y" />
   </resultMap> 
 
 
	 <select id="loginByIdB"  resultType="memberVOB"   parameterType="memberVOB" >
		<![CDATA[
			select * from business	
			where bp_id=#{bp_id} and bp_pw=#{bp_pw}		
		]]>
	 </select>
  
  	<!-- 회원 정보 조회 -->
	<select id="memView" parameterType="String" resultMap="memResultB">
		<![CDATA[
			select * from business where bp_id = #{bp_id}
		]]>
	</select>
  
  	<!-- 회원 정보 수정 -->
	<update id="memMod" parameterType="memberVOB">
		UPDATE business
		SET bp_pw=#{bp_pw},
			email=#{email},
			addr1=#{addr1},
			addr2=#{addr2},
			tel1=#{tel1},
			tel2=#{tel2},
			hp1=#{hp1},
			hp2=#{hp2},
			photo=#{photo},
			type=#{type},
			car=#{car},
			location_x=#{location_x},
			location_y=#{location_y}
		WHERE bp_id=#{bp_id}
	</update>

	<select id="selectAllMemberListB" resultMap="memResultB"   >
      <![CDATA[
        select * from business order by bp_join desc         
      ]]>
   </select>

	<select id="selectMemberByIdB" resultType="memberVOB" parameterType="String">
      <![CDATA[
         select * from business where bp_id = #{bp_id}
      ]]>
   </select>
</mapper>